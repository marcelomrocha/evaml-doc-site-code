# Talk

The <talk> command makes the robot speak the specified text. The character $, by convention, in the original EVA language, accesses the value at the end of the array in memory that stores the answers returned by commands that interact with the user, such as the commands <listen> and <userEmotion>. As mentioned in Section 2.3.2, it also stores the value generated by the <random> command. Inside a text, you can use the character $ to include the last answer (a command <listen> return, for example), $1 to include the first answer, or $-1 to include the second-to-last answer. Separating the sentences with the character / causes the robot to
randomly speak one of the sentences. Let us look at an example that applies all these ideas.


<!-- hl_lines="2 3" -->
```xml title="talk_example.xml" linenums="1"
<script>
    <talk>What is your name?</talk>
    <listen />
    <talk>Hello $ / Hi $ / Hi $, how is it going</talk>
    <random min="1" max="3" />
    <talk>Hello $1, I sorted number $</talk>
</script>
```

In this code snippet, the first `<talk>` command, in line 2, makes the robot ask for the username. Then the `<listen>` command causes the robot to capture the audio and send it to the Google API service which returns the audio converted to a string, which will contain the username. This value (in string format) is stored in the robot memory.

In line 4, the command `<talk>` contains 3 sentences separated by the character /, which will make the robot, randomly, speak one of the sentences. These sentences contain the $ character which accesses the value at the end of the array in memory. This value is the answer obtained via the <listen> command. The $ will be replaced with the username and then the resulting string will be sent to the IBM Watson TTS process. In the next line, the `<random>` command generates a random number between 1 and 3, inclusive, and stores it in the memory at the end of array. In line 6, the robot speaks the name of the person, that can be accessed by referring to $1 (first answer) and can reference the value generated by random using $ (last answer). The following figure shows this special region of EVA memory that functions like a array and can have its elements referenced by the $ character. The $1 represents the oldest element in the array and $ represents the newest element, while the $-1 represents the predecessor of $.


<p style="text-align: center;">
  <img src="../../img/dollar-array.png" alt="Exemplo" width="45%">
</p>

<div style="text-align: center;"><b>Figure</b>: The EVA Robot Memory Array View</div><br>
